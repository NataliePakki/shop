<div class="panel panel-default">
  <div class="panel-heading">
      <h4 class="pannel-title">
          Shipment Address
      </h4>
  </div>
  <div class="panel-body">
      <form (ngSubmit)="onSubmit()"
          [formGroup]="orderForm">
        <div formGroupName="shipmentDate">
          <div class="form-group">
            <label for="name">Name</label>
            <input type="text"
                class="form-control"
                id="name"
                placeholder="Name"
                formControlName="name"
                (blur)="onBlur('shipmentDate.name', 'name')">
            <span class="help-block" *ngIf="validationMessages['name']">
                {{validationMessages['name']}}
            </span>
          </div>
          <div formGroupName="addressData">
            <div class="form-group">
              <label for="countryId">Country</label>
              <select class="form-control"
                      id="countryId"
                      formControlName="country"
                      (blur)="onBlur('shipmentDate.addressData.country', 'country')">
                  <option value="">Select a Country...</option>
                  <option *ngFor="let country of countries"
                    value="{{country}}">{{country}}</option>
              </select>
              <span class="help-block" *ngIf="validationMessages['country']">
                {{validationMessages['country']}}
              </span>
            </div>
            <div class="form-group">
              <label for="city">City</label>
              <input type="text"
                  class="form-control"
                  id="city"
                  placeholder="City"
                  formControlName="city"
                  (blur)="onBlur('shipmentDate.addressData.city', 'city')"/>
              <span class="help-block" *ngIf="validationMessages['city']">
                    {{validationMessages['city']}}
              </span>
            </div>
            <div class="form-group">
              <label for="zip">Zip</label>
              <input type="text"
                  class="form-control"
                  id="zip"
                  placeholder="Zip"
                  formControlName="zip"
                  (blur)="onBlur('shipmentDate.addressData.zip', 'zip')"/>
              <span class="help-block" *ngIf="validationMessages['zip']">
                {{validationMessages['zip']}}
              </span>
            </div>
            <div class="form-group">
              <label for="street">Street</label>
              <input type="text"
                  class="form-control"
                  id="street"
                  placeholder="Street"
                  formControlName="street"
                  (blur)="onBlur('shipmentDate.addressData.street', 'street')"/>
              <span class="help-block" *ngIf="validationMessages['street']">
                {{validationMessages['street']}}
              </span>
            </div>
          </div>
          <label>Phones</label>
          <div formArrayName="phones">
            <div *ngFor="let phone of phones.controls; let i = index">
              <div class="form-group">
                <input type="text"
                    class="form-control"
                    id="{{'phone_' + i}}"
                    placeholder="{{i == 0 ? placeholder.firstPhone: placeholder.phone}}"
                    [formControlName]="i">

                    <button mat-button
                    *ngIf="i !== 0"
                    class="delete"
                    type="button"
                    (click)="onDeletePhone(i)">
                  Delete phone
                </button>
              </div>
              <span class="help-block" *ngIf="((phones.controls[i].touched || phones.controls[i].dirty) && phones.controls[i].errors)">
                <span *ngIf="phones.controls[i].hasError('required')">
                      Please enter your phone.
                </span>
              </span>
            </div>
            <div class="col-md-4 col-md-offset-2">
              <button mat-button
                      type="button"
                      (click)="onAddPhone()">
                Add Another Phone
              </button>
            </div>
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input type="text"
                class="form-control"
                id="email" name="email"
                placeholder="{{placeholder.email}}"
                formControlName="email"
                (blur)="onBlur('shipmentDate.email', 'email')"/>
            <span class="help-block" *ngIf="validationMessages['email']">
              {{validationMessages['email']}}
            </span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-md-2 control-label">Send Notifications</label>
           <div class="col-md-8">
              <label class="radio-online">
               <input type="radio"
                      value="email"
                      formControlName="notification">Email
              </label>
              <label class="radio-online">
               <input type="radio"
                      value="text"
                      formControlName="notification">Text
              </label>
           </div>
        </div>
      <button mat-button
          type="submit"
          [disabled]="orderForm.invalid">Submit
      </button>
      <button mat-button
          type="button"
          (click)="onGoBack()">Back
      </button>
      </form>
  </div>
</div>
